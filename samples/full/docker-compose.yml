services:
  provider:
    image: provider:2.3.0-SNAPSHOT-local
    ports:
      - "8080:8080"
      - "8181:8181"
      - "8281:8281"
      - "8182:8182"
      - "8282:8282"
    environment:
      EDC_FS_CONFIG: /configurations/provider.properties
    volumes:
      - ../config/docker/edc:/configurations
      - ../resources:/resources
  consumer:
    image: fraunhoferiosb/edc-extension4aas:latest
    ports:
      - "9191:9191"
      - "9291:9291"
      - "9192:9192"
      - "9292:9292"
    environment:
      EDC_FS_CONFIG: /configurations/consumer.properties
    volumes:
      - ../config/docker/edc:/configurations

  provider-dashboard:
    image: fraunhoferiosb/edc-extension4aas-dashboard:latest
    ports:
      - "4200:80"
    volumes:
      - ../config/docker/dashboard/provider.nginx.conf:/etc/nginx/nginx.conf
      - ../config/docker/dashboard/provider.json:/usr/share/nginx/html/assets/config/app.config.json

  consumer-dashboard:
    image: fraunhoferiosb/edc-extension4aas-dashboard:latest
    ports:
      - "4201:80"
    volumes:
      - ../config/docker/dashboard/consumer.nginx.conf:/etc/nginx/nginx.conf
      - ../config/docker/dashboard/consumer.json:/usr/share/nginx/html/assets/config/app.config.json
